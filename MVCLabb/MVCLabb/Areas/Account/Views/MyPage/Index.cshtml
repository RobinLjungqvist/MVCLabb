@model MVCLabb.Models.UserViewModel

@{
    ViewBag.Title = "User Information";
}

<h2>@ViewBag.Title</h2>

@using (Html.BeginForm("Index", "MyPage", new { Area = "Account" }, FormMethod.Post, new { id = "userinfoform" }))
{
                @Html.AntiForgeryToken()

                <p>
                    @Html.ValidationSummary(true)
        @if (ViewData["Message"] != null)
        {
                    @ViewData["Message"]
        }
    </p>
    @Html.HiddenFor(m => m.guid)
    @Html.HiddenFor(m => m.id, new { id = "userID" })

    <div class="form-group">
        @Html.LabelFor(m => m.FirstName, new { @class = "control-label" })
        <div>
            @Html.TextBoxFor(m => m.FirstName, new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.FirstName, "", new { @class = "text-danger" })
        </div>

    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.LastName, new { @class = "control-label" })
        <div>
            @Html.TextBoxFor(m => m.LastName, new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.LastName, "", new { @class = "text-danger" })
        </div>

    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.Email, new { @class = "control-label" })
        <div>
            @Html.TextBoxFor(m => m.Email, new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.Email, "", new { @class = "text-danger" })


        </div>
    </div>
    <button type="submit" class="btn btn-default">Update</button>

}

<h2>Change password</h2>
   @using( @Html.BeginForm("ChangePassword", "MyPage",FormMethod.Post, new { Area = "Account", id="ChangePassword"}))
{
    @Html.AntiForgeryToken()    
       @Html.ValidationSummary()
        <div class="form-group">
            <label>Old Password</label>
            <div>
                <input type="password" id="password" name="oldPassword" class="form-control" />
            </div>
        </div>

        <div class="form-group">
                <label>New Password</label>
               <div>
                   @Html.TextBoxFor(m=>m.Password, new { @class = "form-control", id = "newPW", type="password"})
                   @Html.ValidationMessageFor(m=>m.Password, "", new { @class="text-danger"})
                    @*<input type="password" id="newPW" name="newPassword"/>*@
                </div>
        </div>

        <div class="form-group">
            <label>Re-Enter new Password</label>
               <div>
                   <input type="password" id="newPW2" name="newPassword2" class="form-control" />
                   <span id="compareresult" class="text-danger"></span>
                </div>

        </div>
        <div id="message">

        </div>
    <button id="btn_changepw" type="submit" class="btn btn-default">Change password</button>
}

@section scripts{
    
<script src="~/Scripts/changeuserinformation.js"></script>
    }


